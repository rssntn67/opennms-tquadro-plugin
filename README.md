# OpenNMS TQuadro Plugin


OpenNMS TQuadro plugin was generated by the OPA archetype.

The generated plugin contains code:
* TQuadro Api Client 
* TQuadro Confogurazione
* Karaf Shell Command 
* REST Endpoint 
* TQuadro Monitor 

Every host with TQuadro installed is an api endpoint.
So we can use this information to rotate api request among cluster hosts
How to set up configuration for TQuadro Cluster (To be stored under opennms Credentials written by Karaf Shell Command):
a) define a specific cluster TQuadro name
b) define a specific cluster end point for specified name: https://localhost/api/tquadro/
c) define credentials (provide username/password or api-key)
d) define if avoiding SSL certificate verification or just write a procedure to import ssl certificate into java


Build and install the plugin into your local Maven repository using:

```
mvn clean install
```
To speed up development iterations, one can use `-Dcodegen.skip=true` to skip the regeneration of the client model classes.


From the OpenNMS Karaf shell:
```
feature:repo-add mvn:org.opennms.plugins.tquadro/karaf-features/0.1.0-SNAPSHOT/xml
feature:install opennms-plugins-tquadro
```


```
cp assembly/kar/target/opennms-tquadro-plugin.kar /opt/opennms/deploy/
feature:install opennms-plugins-tquadro
```

```
bundle:watch *
```

You can also access the REST endpoint mounted by the plugin at `http://localhost:8980/opennms/rest/tquadro/`

```
